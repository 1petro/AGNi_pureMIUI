From 8dd1af6b82fff1bfab1a354518b3ccec1ffe9634 Mon Sep 17 00:00:00 2001
From: psndna88 <psndna88@gmail.com>
Date: Fri, 22 Dec 2017 09:10:45 +0530
Subject: [PATCH] net/wireguard: disable duplicate random definations as we
 have backports

Signed-off-by: psndna88 <psndna88@gmail.com>
---
 net/wireguard/compat/compat.h | 8 ++++----
 1 file changed, 4 insertions(+), 4 deletions(-)

diff --git a/net/wireguard/compat/compat.h b/net/wireguard/compat/compat.h
index 7bd3e507aa3c..0adb76a3df7d 100644
--- a/net/wireguard/compat/compat.h
+++ b/net/wireguard/compat/compat.h
@@ -121,7 +121,7 @@ static inline void skb_reset_tc(struct sk_buff *skb)
 }
 #endif
 
-#if LINUX_VERSION_CODE < KERNEL_VERSION(4, 11, 0)
+/* #if LINUX_VERSION_CODE < KERNEL_VERSION(4, 11, 0)
 #include <linux/siphash.h>
 static inline u32 get_random_u32(void)
 {
@@ -138,7 +138,7 @@ static inline u32 get_random_u32(void)
 #endif
 	return siphash_2u32(counter++, get_random_int(), &key);
 }
-#endif
+#endif */
 
 #if LINUX_VERSION_CODE < KERNEL_VERSION(3, 18, 0) && !defined(ISRHEL7)
 static inline void netif_keep_dst(struct net_device *dev)
@@ -209,13 +209,13 @@ static inline void skb_scrub_packet(struct sk_buff *skb, bool xnet)
 }
 #endif
 
-#if (LINUX_VERSION_CODE < KERNEL_VERSION(3, 12, 0) || defined(ISUBUNTU1404)) && !defined(ISRHEL7)
+/* #if (LINUX_VERSION_CODE < KERNEL_VERSION(3, 12, 0) || defined(ISUBUNTU1404)) && !defined(ISRHEL7)
 #include <linux/random.h>
 static inline u32 prandom_u32_max(u32 ep_ro)
 {
 	return (u32)(((u64) prandom_u32() * ep_ro) >> 32);
 }
-#endif
+#endif */
 
 #if LINUX_VERSION_CODE < KERNEL_VERSION(3, 10, 75) && !defined(ISRHEL7)
 #ifndef U8_MAX
-- 
2.14.1

